# Plan and execute motion to target pose service
# Validates trajectory for collisions and singularities before execution

# Which arm to move: "right" or "left"
string arm_name

# Target end-effector pose in base_link frame
geometry_msgs/Pose target_pose

# Whether to match orientation or position only
bool use_orientation true

# Whether to execute the motion if planning succeeds
bool execute true

# Motion duration in seconds (for execution)
float64 duration 2.0

# Maximum allowed condition number for Jacobian (singularity threshold)
# Lower = more conservative. Default 100.0 is reasonable.
float64 max_condition_number 100.0

---

# Whether planning succeeded (collision-free, no singularity)
bool success

# Joint positions solution (5 values if success)
# Order: waist, shoulder, elbow, wrist_angle, wrist_rotate
float64[] joint_positions

# Whether execution was attempted (only if success=true and execute=true)
bool executed

# Position error of IK solution (meters)
float64 position_error

# Orientation error of IK solution (radians)
float64 orientation_error

# Jacobian condition number at solution (lower = further from singularity)
float64 condition_number

# Detailed status message
string message
